<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Overview :: openEHR Specifications (Local Build)</title>
    <link rel="canonical" href="https://sebastian-iancu.github.io/antora-openehr/AM/latest/ADL1.4/overview/">
    <link rel="prev" href="../preface/">
    <link rel="next" href="../file_encoding/">
    <meta name="description" content="openEHR Archetype Definition Language 1.4 (ADL1.4) (ISO 13606-2:2008)">
    <meta name="keywords" content="EHR, ADL, AOM, health records, archetypes, constraint language, ISO 13606, openehr">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/antora-openehr.css">
    <link rel="stylesheet" href="../../../../_/css/openehr.css">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://sebastian-iancu.github.io/antora-openehr">openEHR Specifications (Local Build)</a>

      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field has-filter">
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:AM"> Archetype Model only
          </label>
        </div>
      </div>

      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Specifications</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://specifications.openehr.org/" target="_blank">
              openEHR specification
            </a>
            <a class="navbar-item" href="https://specifications.openehr.org/releases/UML/development/index.html" target="_blank">
              openEHR portal
            </a>
            <a class="navbar-item" href="https://ckm.openehr.org/ckm/" target="_blank">
              openEHR CKM
            </a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Community</a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://openehr.atlassian.net/secure/Dashboard.jspa?selectPageId=10190" target="_blank">
              Issue trackers
            </a>
            <a class="navbar-item" href="https://discourse.openehr.org/" target="_blank">
              Discourse Forum
            </a>
            <a class="navbar-item" href="https://specifications.openehr.org/wiki/display/spec/Specifications+Home" target="_blank">
              Wiki
            </a>
            <a class="navbar-item" href="https://github.com/openEHR" target="_blank">
              GitHub
            </a>
          </div>
        </div>

      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="AM" data-version="Release-2.2.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../">Archetype Model</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preface/">Preface</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../file_encoding/">File Encoding and Character Quoting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dadl/">dADL - Data ADL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cadl/">cADL - Constraint ADL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../assertions/">Assertions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paths/">ADL Paths</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../adl/">ADL - Archetype Definition Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../customising_adl/">Customising ADL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../other_formalisms/">Relationship of ADL to Other Formalisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../masterAppB-extended_metadata/">Extended Meta-data Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../masterAppC-syntax_spec/">Syntax Specification</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../ADL2/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/preface/">Preface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/overview/">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/file_encoding/">File Encoding and Character Quoting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/cadl/">cADL - Constraint ADL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/paths/">ADL Paths</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/default_values/">Default Values</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/adl/">ADL - Archetype Definition Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/terminology_integration/">Terminology Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/specialisation/">Specialisation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/templates/">Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/other_formalisms/">Relationship of ADL to Other Formalisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/masterAppB-syntax_spec/">Syntax Specification</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ADL2/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../AOM1.4/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/preface/">Preface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/model_overview/">The Archetype Object Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/archetype_package/">The Archetype Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/constraint_model_package/">Constraint Model Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/assertion_package/">The Assertion Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/primitive_package/">Primitive Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/ontology_package/">Terminology Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/domain_extension/">Domain-specific Extension Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/masterAppB-diverse_reference_models/">Using Archetypes with Diverse Reference Models</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/masterAppC-rm_dependencies/">Reference Model Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM1.4/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../AOM2/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/preface/">Preface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/model_overview/">Model Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/archetype_package/">The Archetype Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/constraint_model_package/">Constraint Model Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/rules_package/">The Rules Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/rm_overlay/">The RM Overlay Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/terminology_package/">Terminology Package</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/validation/">Validation and Transformation Semantics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/serialisation_model/">Serialisation Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/templates/">Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/rm_adaptation/">Reference Model Adaptation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AOM2/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../Identification/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/preface/">Preface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/overview/">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/artefact_source_id/">Source Artefact Identification</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/versioning/">Versioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/lifecycle_mgt/">Lifecycle Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/distributed_governance/">Distributed Governance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/referencing/">Referencing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/uris/">A Reliable URI for Knowledge Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/artefact_authentication/">Artefact Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/scenarios/">Scenarios</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Identification/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#index.adoc">Language Design</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../OPT2/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/preface/">Preface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/overview/">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/opt_raw/">The Raw Operational Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/opt_profiled/">The Profiled Operational Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/file_formats/">File Formats</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../OPT2/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../Overview/">{spec_title}</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/introduction/">Business Purpose of Archetypes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/formalism_overview/">Archetype Formalism Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/the_specifications/">The Specifications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/semantic_overview/">Semantic Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/artefacts/">Artefacts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../Overview/amendment_record/">Amendment Record</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Archetype Model</span>
    <span class="version">Release-2.2.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../../latest/">Archetype Model</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../latest/">Release-2.3.0</a>
        </li>
        <li class="version is-current">
          <a href="../../">Release-2.2.0</a>
        </li>
        <li class="version">
          <a href="../../../development/">development</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../BASE/latest/">Base Model</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../BASE/latest/">Release-1.2.0</a>
        </li>
        <li class="version">
          <a href="../../../../BASE/Release-1.1.0/">Release-1.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../BASE/development/">development</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../RM/latest/">Reference Model</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../RM/latest/">Release-1.1.0</a>
        </li>
        <li class="version">
          <a href="../../../../RM/Release-1.0.4/">Release-1.0.4</a>
        </li>
        <li class="version">
          <a href="../../../../RM/development/">development</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../BASE/latest/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">Archetype Model</a></li>
    <li><a href="../">{spec_title}</a></li>
    <li><a href="./">Overview</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">Release-2.2.0</button>
  <div class="version-menu">
    <a class="version" href="../../../latest/ADL1.4/overview/">Release-2.3.0</a>
    <a class="version is-current" href="./">Release-2.2.0</a>
    <a class="version" href="../../../development/ADL1.4/overview/">development</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Overview</h1>
<div class="sect1">
<h2 id="_what_is_adl"><a class="anchor" href="#_what_is_adl"></a><a class="link" href="#_what_is_adl">What is ADL?</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Archetype Definition Language (ADL) is a formal language for expressing archetypes, which are constraint-based models of domain entities, or what some might call 'structured business rules'. The archetype concept is described by Beale <a href="#Beale_2000">[Beale_2000]</a>, <a href="#Beale_2002">[Beale_2002]</a>. The <a href="https://specifications.openehr.org/releases/AM/latest/ADL1.4.html">openEHR Archetype Object Model 1.4</a> describes the definitive semantic model of archetypes, in the form of an object model. The ADL syntax is one possible serialisation of an archetype.</p>
</div>
<div class="paragraph">
<p>The openEHR archetype framework is described in terms of <a href="https://specifications.openehr.org/releases/1.0.2/architecture/am/archetype_principles.pdf">Archetype Definitions and Principles</a> and an <a href="https://specifications.openehr.org/releases/1.0.2/architecture/am/archetype_system.pdf">Archetype System</a>. Other semantic formalisms considered in the course of the development of ADL, and some which remain relevant are described in detailed in <a href="#Relationship of ADL to Other Formalisms">[Relationship of ADL to Other Formalisms]</a>.</p>
</div>
<div class="paragraph">
<p>ADL uses three other syntaxes, cADL (constraint form of ADL), dADL (data definition form of ADL), and a version of first-order predicate logic (FOPL), to describe constraints on data which are instances of some information model (e.g. expressed in UML). It is most useful when very generic information models are used for describing the data in a system, for example, where the logical concepts <code>PATIENT</code>, <code>DOCTOR</code> and <code>HOSPITAL</code> might all be represented using a small number of classes such as <code>PARTY</code> and <code>ADDRESS</code>. In such cases, archetypes are used to constrain the valid structures of instances of these generic classes to represent the desired domain concepts. In this way future-proof information systems can be built - relatively simple information models and database schemas can be defined, and archetypes supply the semantic modelling, completely outside the software. ADL can thus be used to write archetypes for any domain where formal object model(s) exist which describe data instances.</p>
</div>
<div class="paragraph">
<p>When archetypes are used at runtime in particular contexts, they are <em>composed</em> into larger constraint structures, with local or specialist constraints added, via the use of <em>templates</em>. The formalism of templates is dADL. Archetypes can be <em>specialised</em> by creating an archetypes that reference existing archetypes as parents; such archetypes can only make certain changes while remaining compatible with the parent.</p>
</div>
<div class="paragraph">
<p>Another major function of archetypes is to connect information structures to formal terminologies. Archetypes are language-neutral, and can be authored in and translated into any language.</p>
</div>
<div class="paragraph">
<p>Finally, archetypes are completely path-addressable in a manner similar to XML data, using path expressions that are directly convertible to Xpath expressions.</p>
</div>
<div class="sect2">
<h3 id="_structure"><a class="anchor" href="#_structure"></a><a class="link" href="#_structure">Structure</a></h3>
<div class="paragraph">
<p>Archetypes expressed in ADL resemble programming language files, and have a defined syntax. ADL itself is a very simple 'glue' syntax, which uses two other syntaxes for expressing structured constraints and data, respectively. The cADL syntax is used to express the archetype <code>definition</code> section, while the ODIN syntax is used to express data which appears in the <code>language</code>, <code>description</code>, <code>terminology</code>, and `revision_history' sections of an ADL archetype. The top-level structure of an ADL archetype is shown in the figure below.</p>
</div>
<div class="paragraph">
<p>This main part of this document describes cADL and ADL path syntax, before going on to describe the combined ADL syntax, archetypes and domain-specific type libraries.</p>
</div>
<div id="archetype_structure" class="imageblock text-center text-center">
<div class="content">
<img src="../_images/diagrams/adl_text_overview.svg" alt="adl text overview" width="50%">
</div>
<div class="title">Figure 1. ADL Archetype Structure</div>
</div>
</div>
<div class="sect2">
<h3 id="_an_example"><a class="anchor" href="#_an_example"></a><a class="link" href="#_an_example">An Example</a></h3>
<div class="paragraph">
<p>The following is an example of a very simple archetype, giving a feel for the syntax. The main point to glean from the following is that the notion of 'guitar' is defined in terms of <em>constraints</em> on a <em>generic</em> model of the concept "INSTRUMENT". The names mentioned down the left-hand side of the definition section (<code>INSTRUMENT</code>, <code>size</code> etc) are alternately class and attribute names from an object model.  Each block of braces encloses a specification for some particular set of instances that conform to a specific concept, such as 'guitar' or 'neck', defined in terms of constraints on types from a generic class model. The leaf pairs of braces enclose constraints on primitive types such as <code>Integer</code>, <code>String</code>, <code>Boolean</code> and so on.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-adl" data-lang="adl">archetype (adl_version=1.4)
    adl-test-instrument.guitar.draft.v1

concept
    [at0000]

language
    original_language = &lt;[iso_639-1::en]&gt;

definition
    INSTRUMENT[at0000] matches {
        size matches {|60..120|}                            -- size in cm
        date_of_manufacture matches {yyyy-mm-??}            -- year &amp; month ok
        parts cardinality matches {0..*} matches {
            PART[at0001] matches {                          -- neck
                material matches {[local::at0003, at0004]}  -- timber or nickel alloy
            }
            PART[at0002] matches {                          -- body
                material matches {[local::at0003]}          -- timber
            }
        }
    }

ontology
    term_definitions = &lt;
        ["en"] = &lt;
            items = &lt;
                ["at0000"] = &lt;
                    text = &lt;"guitar"&gt;;
                    description = &lt;"stringed instrument"&gt;
                &gt;
                ["at0001"] = &lt;
                    text = &lt;"neck"&gt;;
                    description = &lt;"neck of guitar"&gt;
                &gt;
                ["at0002"] = &lt;
                    text = &lt;"body"&gt;;
                    description = &lt;"body of guitar"&gt;
                &gt;
                ["at0003"] = &lt;
                    text = &lt;"timber"&gt;;
                    description = &lt;"straight, seasoned timber"&gt;
                &gt;
                ["at0004"] = &lt;
                    text = &lt;"nickel alloy"&gt;;
                    description = &lt;"frets"&gt;
                &gt;
            &gt;
        &gt;
    &gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_semantics"><a class="anchor" href="#_semantics"></a><a class="link" href="#_semantics">Semantics</a></h3>
<div class="paragraph">
<p>As a parsable syntax, ADL has a formal relationship with structural models such as those expressed in UML, according to the scheme of the following figure. Here we can see that ADL documents are parsed into a network of objects (often known as a ‘parse tree’) which are themselves defined by a formal, abstract object model (see The <a href="https://specifications.openehr.org/releases/AM/latest/ADL1.4.html">openEHR Archetype Object Model 1.4</a>. Such a model can in turn be reexpressed as any number of concrete models, such as in a programming language, XML-schema or OMG IDL.</p>
</div>
<div class="paragraph">
<p>While ADL syntax remains the primary abstract formalism for expressing archetypes, the AOM defines the semantics of an archetype, in particular relationships which must hold true between the parts of an archetype for it to be valid as a whole.</p>
</div>
<div id="relationship_with_models" class="imageblock text-center text-center">
<div class="content">
<img src="../_images/diagrams/relationship_with_models.png" alt="relationship with models" width="80%">
</div>
<div class="title">Figure 2. Relationship of ADL with Object Models</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_computational_context"><a class="anchor" href="#_computational_context"></a><a class="link" href="#_computational_context">Computational Context</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Archetypes are distinct, structured models of domain content, such as 'data captured for a blood pressure observation'. They sit between lower layers of knowledge resources in a computing environment, such as clinical terminologies and ontologies, and actual data in production systems. Their primary purpose is to provide a reusable, interoperable way of managing generic data so that it conforms to particular structures and semantic constraints. Consequently, they bind terminology and ontology concepts to information model semantics, in order to make statements about what valid data structures look like. ADL provides a solid formalism for expressing, building and using these entities computationally. Every ADL archetype is written with respect to a particular information model, often known as a 'reference model', if it is a shared, public specification.</p>
</div>
<div class="paragraph">
<p>Archetypes are applied to data via the use of <em>templates</em>, which are defined at a local level. Templates generally correspond closely to screen forms, and may be re-usable at a local or regional level. Templates do not introduce any new semantics to archetypes, they simply specify the use of particular archetypes, further compatible constraints, and default data values.</p>
</div>
<div class="paragraph">
<p>A third artifact governing the functioning of archetypes and templates at runtime is the local palette, which specifies which natural language(s) and terminologies are in use in the locale. The use of a palette removes irrelevant languages and terminology bindings from archetypes, retaining only those relevant to actual use. The following figure illustrates the overall environment in which archetypes, templates, and a locale palette exist.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_xml_form_of_archetypes"><a class="anchor" href="#_xml_form_of_archetypes"></a><a class="link" href="#_xml_form_of_archetypes">XML form of Archetypes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>With ADL parsing tools it is possible to convert ADL to any number of forms, including various XML formats. XML instance can be generated from the object form of an archetype in memory. An XML-schema corresponding to the ADL Object Model is <a href="http://www.openehr.org/releases/trunk/its/XML-schema">published at openEHR.org</a>.</p>
</div>
<div id="archetypes_templates_palette" class="imageblock text-center text-center">
<div class="content">
<img src="../_images/diagrams/archetypes_templates_palette.png" alt="archetypes templates palette" width="80%">
</div>
<div class="title">Figure 3. Archetypes, Templates and Palette</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changes_from_previous_versions"><a class="anchor" href="#_changes_from_previous_versions"></a><a class="link" href="#_changes_from_previous_versions">Changes from Previous Versions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For existing users of ADL or archetype development tools, the following provides a guide to the changes in the syntax.</p>
</div>
<div class="sect2">
<h3 id="_version_1_4_from_version_1_3"><a class="anchor" href="#_version_1_4_from_version_1_3"></a><a class="link" href="#_version_1_4_from_version_1_3">Version 1.4 from Version 1.3</a></h3>
<div class="paragraph">
<p>A number of small changes were made in this version, along with significant tightening up of the explanatory text and examples.</p>
</div>
<div class="sect3">
<h4 id="_iso_8601_datetime_conformance"><a class="anchor" href="#_iso_8601_datetime_conformance"></a><a class="link" href="#_iso_8601_datetime_conformance">ISO 8601 Date/Time Conformance</a></h4>
<div class="paragraph">
<p>All ISO 8601 date, time, date/time and duration values in dADL are now conformant (previously the usage of the 'T' separator was not correct). Constraint patterns in cADL for dates, times and date/times are also corrected, with a new constraint pattern for ISO 8601 durations being added. The latter allows a deviation from the standard to include the 'W' specifier, since durations with a mixture of weeks, days etc is often used in medicine.</p>
</div>
</div>
<div class="sect3">
<h4 id="_non_inclusive_two_sided_intervals"><a class="anchor" href="#_non_inclusive_two_sided_intervals"></a><a class="link" href="#_non_inclusive_two_sided_intervals">Non-inclusive Two-sided Intervals</a></h4>
<div class="paragraph">
<p>It is now possible to define an interval of any ordered amount (integer, real, date, time, date/time, duration) where one or both of the limits is not included, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    |0..&lt;1000|    -- 0 &gt;= x &lt; 1000
    |&gt;0.5..4.0|   -- 0.5 &gt; x &lt;= 4.0
    |&gt;P2d..&lt;P10d| -- 2 days &gt; x &lt; 10 days</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_occurrences_for_use_node_references"><a class="anchor" href="#_occurrences_for_use_node_references"></a><a class="link" href="#_occurrences_for_use_node_references">Occurrences for 'use_node' References</a></h4>
<div class="paragraph">
<p>Occurrences can now be stated for <code>use_node</code> references, overriding the occurrences of the target node.  If no occurrences is stated, the target node occurrences value is used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_quoting_rules"><a class="anchor" href="#_quoting_rules"></a><a class="link" href="#_quoting_rules">Quoting Rules</a></h4>
<div class="paragraph">
<p>The old quoting rules based on XML/ISO mnemonic patterns (<code>&ohmgr;</code> etc) are replaced by specifying ADL to be UTF-8 based, and any exceptions to this requiring ASCII encoding should use the <code>\Uhhhh</code> style of quoting unicode used in various programming languages.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_3_from_version_1_2"><a class="anchor" href="#_version_1_3_from_version_1_2"></a><a class="link" href="#_version_1_3_from_version_1_2">Version 1.3 from Version 1.2</a></h3>
<div class="paragraph">
<p>The specific changes made in version 1.3 of ADL are as follows.</p>
</div>
<div class="sect3">
<h4 id="_query_syntax_replaced_by_uri_data_type"><a class="anchor" href="#_query_syntax_replaced_by_uri_data_type"></a><a class="link" href="#_query_syntax_replaced_by_uri_data_type">Query syntax replaced by URI data type</a></h4>
<div class="paragraph">
<p>In version 1.2 of ADL, it was possible to include an external query, using syntax of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    attr_name = &lt;query("some_service", "some_query_string")&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is now replaced by the use of URIs, which can express queries, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    attr_name = &lt;http://some.service.org?some%20query%20etc&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No assumption is made about the URI; it need not be in the form of a query - it may be any kind of URI.</p>
</div>
</div>
<div class="sect3">
<h4 id="_top_level_invariant_section"><a class="anchor" href="#_top_level_invariant_section"></a><a class="link" href="#_top_level_invariant_section">Top-level Invariant Section</a></h4>
<div class="paragraph">
<p>In this version, invariants can only be defined in a top level block, in a way similar to object-oriented class definitions, rather than on every block in the definition section, as is the case in version 1.2 of ADL. This simplifies ADL and the Archetype Object Model, and makes an archetype more comprehensible as a <code>type</code> definition.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_2_from_version_1_1"><a class="anchor" href="#_version_1_2_from_version_1_1"></a><a class="link" href="#_version_1_2_from_version_1_1">Version 1.2 from Version 1.1</a></h3>
<div class="sect3">
<h4 id="_adl_version"><a class="anchor" href="#_adl_version"></a><a class="link" href="#_adl_version">ADL Version</a></h4>
<div class="paragraph">
<p>The ADL version is now optionally (for the moment) included in the first line of the archetype, as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    archetype (adl_version=1.2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is strongly recommended that all tool implementors include this information when archetypes are saved, enabling archetypes to gradually become imprinted with their correct version, for more reliable later processing. The adl_version indicator is likely to become mandatory in future versions of ADL.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dadl_syntax_changes"><a class="anchor" href="#_dadl_syntax_changes"></a><a class="link" href="#_dadl_syntax_changes">dADL Syntax Changes</a></h4>
<div class="paragraph">
<p>The dADL syntax for container attributes has been altered to allow paths and typing to be expressed more clearly, as part of enabling the use of Xpath-style paths. ADL 1.1 dADL had the following appearance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>	school_schedule = &lt;
		locations(1) = &lt;...&gt;
		locations(2) = &lt;...&gt;
		locations(3) = &lt;...&gt;
		subjects("philosophy:plato") = &lt;...&gt;
		subjects("philosophy:kant") = &lt;...&gt;
		subjects("art") = &lt;...&gt;
	&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This has been changed to look like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>	school_schedule = &lt;
		locations = &lt;
			[1] = &lt;...&gt;
			[2] = &lt;...&gt;
			[3] = &lt;...&gt;
		&gt;
		subjects = &lt;
			["philosophy:plato"] = &lt;...&gt;
			["philosophy:kant"] = &lt;...&gt;
			["art"] = &lt;...&gt;
		&gt;
	&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new appearance both corresponds more directly to the actual object structure of container types,
and has the property that paths can be constructed by directly reading identifiers down the backbone
of any subtree in the structure. It also allows the optional addition of typing information anywhere in
the structure, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>	school_schedule = SCHEDULE &lt;
		locations = LOCATION &lt;
			[1] = &lt;...&gt;
			[2] = &lt;...&gt;
			[3] = ARTS_PAVILLION &lt;...&gt;
		&gt;
		subjects = &lt;
			["philosophy:plato"] = ELECTIVE_SUBJECT &lt;...&gt;
			["philosophy:kant"] = ELECTIVE_SUBJECT &lt;...&gt;
			["art"] = MANDATORY_SUBJECT &lt;...&gt;
		&gt;
	&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These changes will affect the parsing of container structures and keys in the description and terminology parts of the archetype.</p>
</div>
</div>
<div class="sect3">
<h4 id="_revision_history_section"><a class="anchor" href="#_revision_history_section"></a><a class="link" href="#_revision_history_section">Revision History Section</a></h4>
<div class="paragraph">
<p>Revision history is now recorded in a separate section of the archetype, both to logically separate it from the archetype descriptive details, and to facilitate automatic processing by version control systems in which archtypes may be stored. This section is included at the end of the archetype because it is in general a monotonically growing section.</p>
</div>
</div>
<div class="sect3">
<h4 id="_primary_language_and_languages_available_sections"><a class="anchor" href="#_primary_language_and_languages_available_sections"></a><a class="link" href="#_primary_language_and_languages_available_sections">Primary_language and Languages_available Sections</a></h4>
<div class="paragraph">
<p>An attribute previously called <code><em>primary_language</em></code> was required in the <code>ontology</code> section of an ADL 1.1 archetype. This is renamed to <code><em>original_language</em></code> and is now moved to a new top level section in the archetype called <code>language</code>. Its value is still expressed as a dADL String attribute. The <code><em>languages_available</em></code> attribute previously required in the <code>ontology</code> section of the archetype is renamed to <code><em>translations</em></code>, no longer includes the original languages, and is also moved to this new top level section.</p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../preface/">Preface</a></span>
  <span class="next"><a href="../file_encoding/">File Encoding and Character Quoting</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>
    Copyright: © 2003+
    <a href="https://www.openehr.org"
        alt="is an independent, non-profit foundation, facilitating the sharing of health
           records by consumers and clinicians via open specifications, clinical models
           and open platform implementations.">The openEHR Foundation</a>
  </p>

  <p>
    License:
    <img src="/_/img/cc-by-nd-88x31.png"
        alt="Creative Commons Attribution-NoDerivs 3.0 Unported."
        style="vertical-align:middle;margin:0 0.25rem 0 0;">
    <a href="https://creativecommons.org/licenses/by-nd/3.0/">
      Creative Commons Attribution-NoDerivs 3.0 Unported.
    </a>
  </p>

  <p>
    <strong>Links: <strong>
    <a href="https://www.openehr.org/terms-of-use" class="mr-1">Terms of use</a> |
    <a href="https://www.openehr.org/privacy-policy" class="mx-1">Privacy policy</a> |
    <a href="https://www.openehr.org/privacy-policy" class="mx-1">Logos &amp; Trademarks</a> |
    <a href="https://www.openehr.org/contact-us" class="mx-1">Contact</a>
  </p>
</footer>

<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="80" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
<script src="../../../../_/js/medium-zoom.min.js"></script>
<script src="../../../../_/js/zoom.js"></script>
  </body>
</html>
